{% extends "base.html" %} {% block title %}Torrent Status{% endblock %} {% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/status.css') }}" />
{% endblock %} {% block extra_js %}
<script src="{{ url_for('static', filename='js/status.js', v=static_version) }}" defer></script>
{% endblock %} {% block content %}
<div class="title-container">
    <h1>Active Downloads</h1>
</div>

{% if error %}
<div class="error-message">
    <p>{{ error }}</p>
</div>
{% endif %}

<table>
    <caption class="sr-only">
        List of active downloads
    </caption>
    <thead>
        <tr>
            <th>Title</th>
            <th>Progress</th>
            <th>State</th>
            <th>Size</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody id="status-table-body">
        {% if torrents %} {% for torrent in torrents %}
        <tr>
            <td data-label="Title">{{ torrent.name }}</td>
            <td data-label="Progress">{{ torrent.progress }}%</td>
            <td data-label="State">{{ torrent.state }}</td>
            <td data-label="Size">{{ torrent.size }}</td>
            <td data-label="Action">
                <button class="remove-button" onclick="deleteTorrent('{{ torrent.id }}')">Remove</button>
            </td>
        </tr>
        {% endfor %} {% else %} {% if not error %}
        <tr>
            <td colspan="5" class="empty-message" style="text-align: center; color: var(--text-muted)">
                No active downloads found.
            </td>
        </tr>
        {% endif %} {% endif %}
    </tbody>
</table>
{% endblock %}
